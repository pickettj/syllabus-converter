<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>$if(title)$$title$$else$Syllabus$endif$</title>
        <link rel="stylesheet" href="syllabus-styles.css" />
        $for(css)$
        <link rel="stylesheet" href="$css$" />
        $endfor$ $if(math)$ $math$ $endif$ $for(header-includes)$
        $header-includes$ $endfor$
    </head>
    <body>
        <div class="container">
            <!-- Header Section -->
            <header>
                $if(title)$
                <h1>$title$</h1>
                $endif$ $if(subtitle)$
                <div class="subtitle">$subtitle$</div>
                $endif$
            </header>

            <!-- Last updated date and PDF download - positioned after header but before content -->
            <div class="last-updated-wrapper">
                $if(pdf-filename)$
                <div class="download-link">
                    <a href="$pdf-filename$" class="pdf-download">ðŸ“„ Download PDF</a>
                </div>
                $endif$
                <div class="last-updated">Last updated on $date$</div>
            </div>

            <div class="content">
                <!-- Pandoc body content goes here -->
                $body$
            </div>
        </div>

        <!-- Load the interactive JavaScript -->
        <script src="syllabus-interactive.js"></script>

        <!-- Simple initialization script -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                console.log("DOM loaded, starting transformation...");
                if (typeof transformPandocToCollapsible === "function") {
                    transformPandocToCollapsible();
                } else {
                    console.error(
                        "transformPandocToCollapsible function not found",
                    );
                }
            });
        </script>

        $for(include-after)$ $include-after$ $endfor$
    </body>
</html>